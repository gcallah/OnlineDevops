[{"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "ago"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "ago"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "ago"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "ago"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "docker"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The container has process isolation from the host."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So we need to know how to create the right container for each project."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "bash"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "bash"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "bash"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "bash"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "bash"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "latest"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "latest"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "image"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as CodeInfrastructure as code and Docker Lesson 1: What Is Infrastructure as Code?"}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code: What is it?"}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Furthermore, as code, the infrastructure can be read and reasoned about."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You can find the code for the website here."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "code"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "devops"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "devops"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "months"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "months"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "weeks"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "weeks"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "weeks"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "inside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "infrastructure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "infrastructure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Furthermore, as code, the infrastructure can be read and reasoned about."}, "title": "infrastructure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "infrastructure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "A script can be debugged once, and then will run reliably again and again."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "What about our view of what processes are running?"}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "run"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "'s"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "What about our view of what processes are running?"}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "running"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The command for that is as shown below."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "command"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "days"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "ps"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the requirements file it uses."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "file"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "nginx"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the requirements file it uses."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "use"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "root"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "root"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "root"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "build"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "build"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "build"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "build"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "build"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "see"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "outside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "outside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "outside"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You can find the code for the website here."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "like"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "like"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "like"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "like"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "like"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "like"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Furthermore, as code, the infrastructure can be read and reasoned about."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Prashant has cloned it in /Users/prashant/school/algorithms."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "one"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "project"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So we need to know how to create the right container for each project."}, "title": "project"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "project"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "project"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "project"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "-ef"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "-ef"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "server"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "server"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "server"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "server"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "server"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "server"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "two"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "images"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "images"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "images"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "images"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "images"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "list"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "list"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "list"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "list"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "list"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "list"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "namespace"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "namespace"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "indra"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "indra"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "indra"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "indra"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "python"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "python"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "python"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "put"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "put"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "put"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "put"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "system"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "system"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "system"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "system"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "system"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "gcallah"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "need"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "need"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So we need to know how to create the right container for each project."}, "title": "need"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "need"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "please"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "please"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Your location will be different than this, please note the location."}, "title": "please"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "available"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "available"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "available"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "let"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "let"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "let"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "let"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Aristotle: humans are rational animals."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lesson 2: Available Tools Puppet Chef Ansible SaltStack Lesson 3: Running Dockerby Prashantkumar Patel and Prof. CallahanFirst thing: Make sure you have Docker installed!"}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "ls"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "id"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "make"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "make"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "make"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "make"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "user"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "user"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "user"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You can find the code for the website here."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "web"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The container has process isolation from the host."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "host"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "line"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "download"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "download"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "version"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "version"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "version"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "compose"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "tools"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "tools"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "requirements"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "requirements"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "requirements"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "requirements"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "requirements"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the requirements file it uses."}, "title": "requirements"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "production"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "production"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "What about our view of what processes are running?"}, "title": "processes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "processes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "processes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "online"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "a5dd222a9812"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "a5dd222a9812"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "a5dd222a9812"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "going"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "going"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "going"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "local"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "local"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "local"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "local"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "local"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "local"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "look"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "look"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "look"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "look"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "different"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "different"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Your location will be different than this, please note the location."}, "title": "different"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "location"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Your location will be different than this, please note the location."}, "title": "location"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "location"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "using"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "using"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "using"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "8000/tcp"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "8000/tcp"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "shells"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "shells"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "shells"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "cloned"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "cloned"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Prashant has cloned it in /Users/prashant/school/algorithms."}, "title": "cloned"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "minutes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "directory"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "directory"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "directory"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "results"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "-a"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "-a"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "-l"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "environment"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "environment"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "environment"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "environment"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "alpine"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "alpine"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "gui"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "21130e104ca1"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "21130e104ca1"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You won't get any further in following along on your laptop if you do not."}, "title": "n't"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "n't"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "3fd9065eaf02"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "3fd9065eaf02"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "explore"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "explore"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "address"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "address"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "gcallah/django"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "gcallah/django"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "ad9670e8b27f"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "ad9670e8b27f"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "names"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "names"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "usr"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "usr"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "hour"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "hour"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "setup"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "setup"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "setup"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "dev"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "dev"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "dev"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "dev"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "dev"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "dev"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "429ff1a37d21"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "429ff1a37d21"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You won't get any further in following along on your laptop if you do not."}, "title": "following"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "following"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "What about our view of what processes are running?"}, "title": "process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The container has process isolation from the host."}, "title": "process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "tag"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "something"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "something"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "want"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "want"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "provisioning"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "provisioning"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "pts/0"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "clone"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "clone"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Prashant has cloned it in /Users/prashant/school/algorithms."}, "title": "clone"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "algorithms"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Prashant has cloned it in /Users/prashant/school/algorithms."}, "title": "algorithms"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "algorithms"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lesson 2: Available Tools Puppet Chef Ansible SaltStack Lesson 3: Running Dockerby Prashantkumar Patel and Prof. CallahanFirst thing: Make sure you have Docker installed!"}, "title": "installed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "installed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "installed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "course"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "course"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "course"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "bunch"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It is very hard to do that with a bunch of check-boxes!"}, "title": "bunch"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "gcallah/jenkins_py3"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "gcallah/jenkins_py3"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "systems"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "systems"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "listing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "listing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "main"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "main"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "development"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "development"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "rational"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Aristotle: humans are rational animals."}, "title": "rational"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "script"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "A script can be debugged once, and then will run reliably again and again."}, "title": "script"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "automating"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "automating"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "open"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "open"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "makefile"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "makefile"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "configure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "configure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "configure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "stupefied_swanson"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "stupefied_swanson"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "user_type"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "note"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Your location will be different than this, please note the location."}, "title": "note"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "also"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "also"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "0.0.0.0:8000-"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You won't get any further in following along on your laptop if you do not."}, "title": "get"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "get"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "get"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "repo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "repo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "cd14cecfdb3a"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "cd14cecfdb3a"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "gcallah/emu86"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "gcallah/emu86"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "developer"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "wc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "etc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "etc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "59507b30b48a"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "59507b30b48a"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "ubuntu"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "ubuntu"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "containers"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "containers"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "efb6baa1169f"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "efb6baa1169f"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "opt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are exploring other options."}, "title": "opt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "manually"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "manually"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "hardware"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "hardware"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "00:00:00"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "http"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "http"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "http"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "hand"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "hand"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "v4"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "v4"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "v7"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "v7"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "database"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "database"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "sets"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "sets"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "advanced"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "bin"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Furthermore, as code, the infrastructure can be read and reasoned about."}, "title": "read"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "read"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "read"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "gcallah/indra"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "gcallah/indra"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "right"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So we need to know how to create the right container for each project."}, "title": "right"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "people"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "people"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "home"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "home"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "home"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "repository"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "seconds"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "sbin"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "f6833ae8bf9e"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "f6833ae8bf9e"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "servers"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "servers"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "var"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "var"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "var"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "files"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "files"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Running the following command will pull the nginx image from DockerHub, which is like GitHub, but for docker images."}, "title": "pull"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "pull"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "/requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "/requirements.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "setting"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "setting"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "jenkins"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "jenkins"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "tmp"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "432de70e222d"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "432de70e222d"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "separate"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "separate"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "f975c5035748"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "f975c5035748"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "time"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "managed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "forget"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "mnt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "-d"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "-d"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "installer.failurerequests"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "-t"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "-t"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "-p"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "-p"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "-p"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "-r"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "suite"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "include"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "include"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "0433f774c394"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Furthermore, as code, the infrastructure can be read and reasoned about."}, "title": "rm"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "rm"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "rm"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "rm"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "categories"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "--"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "try"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "says"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "consistent"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "eating"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Why is it important?"}, "title": "port"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "port"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "port"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "net"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "consisting"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "full"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "full"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "hours"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "active"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You won't get any further in following along on your laptop if you do not."}, "title": "along"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "change"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "change"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "0.0.0.0:32768-"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "dehumanizes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "base"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "base"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "base"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "up-to-date"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "private"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "A script can be debugged once, and then will run reliably again and again."}, "title": "debugged"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "https"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "proceed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "would"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "-v"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "automate"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "automate"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "type"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "type"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "clever"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The COPY requirements.txt /requirements.txt line brings the requirements file inside the container."}, "title": "brings"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "tested"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "room"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "work"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "work"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "work"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lesson 2: Available Tools Puppet Chef Ansible SaltStack Lesson 3: Running Dockerby Prashantkumar Patel and Prof. CallahanFirst thing: Make sure you have Docker installed!"}, "title": "install"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "install"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "install"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "install"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "install"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "example"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "control"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "prompt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "give"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "sample"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "simple"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "chroot"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "rather"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "divided"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "machine"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "env"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "env"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "env"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "env"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "may"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "0.0.0.0"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "0.0.0.0"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "0.0.0.0"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "github"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "remember"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "third"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "documentation"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "fe439d8e15c2"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "provide"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "provide"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "things"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "32b272487675"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "determined_goldwasser"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "two-container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "algo_website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "algo_website"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "looks"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "still"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "better"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "might"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "browser"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Prashant has cloned it in /Users/prashant/school/algorithms."}, "title": "prashant"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "prashant"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "instead"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "instructions"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "name"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "name"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "name"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "always"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "71c43202b8ac"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "competent_hugle"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "hard"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "hard"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It is very hard to do that with a bunch of check-boxes!"}, "title": "hard"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "idea"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "idea"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "static"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "/usr/share/nginx/html"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "leave"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The command for that is as shown below."}, "title": "shown"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "21:18"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "since"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "brave_kirch"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "lecture"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "lib64"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "correct"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "completely"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "amazing_meitner"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "advantages"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "installs"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "thing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lesson 2: Available Tools Puppet Chef Ansible SaltStack Lesson 3: Running Dockerby Prashantkumar Patel and Prof. CallahanFirst thing: Make sure you have Docker installed!"}, "title": "thing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "thing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So, in the makefile we want something like:container: $(DOCKER_DIR)/Dockerfile $(DOCKER_DIR)/requirements.txt         docker build -t indra dockerHere is a sample Dockerfile."}, "title": "thing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "thing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "first"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "already"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "set"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are going to use the algorithms website for another course."}, "title": "another"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "little"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "necessarily"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "practical_ptolemy"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "guaranteeing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "debug.txt.1"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "automatons"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "rates"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "multi-container"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "interests"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We are exploring other options."}, "title": "exploring"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(This is a fantastic 3 minute explanation of the value of Infrastructure as Code.)"}, "title": "explanation"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(This is a fantastic 3 minute explanation of the value of Infrastructure as Code.)"}, "title": "minute"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "minute"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "lists"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "employ"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "specify"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The container has process isolation from the host."}, "title": "isolation"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "debug.txt"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "identical"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "youthful_noyce"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "sees"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "e3292cdc1449"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "django"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "django"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "modest_hypatia"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "lib"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "lib"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lesson 2: Available Tools Puppet Chef Ansible SaltStack Lesson 3: Running Dockerby Prashantkumar Patel and Prof. CallahanFirst thing: Make sure you have Docker installed!"}, "title": "able"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "able"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "able"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "able"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "able"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "ideal"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "wonderful_heyrovsky"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lesson 2: Available Tools Puppet Chef Ansible SaltStack Lesson 3: Running Dockerby Prashantkumar Patel and Prof. CallahanFirst thing: Make sure you have Docker installed!"}, "title": "sure"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It is very hard to do that with a bunch of check-boxes!"}, "title": "check-boxes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "treats"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "principle"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You can find the code for the website here."}, "title": "find"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "parameters"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "etc."}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "stop"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "preparing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "runs"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "places"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If we need to remove a container that is still running, we will have to stop it first with docker stop."}, "title": "remove"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "boring"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "What about our view of what processes are running?"}, "title": "view"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "achieved"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "configured"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Aristotle: humans are rational animals."}, "title": "humans"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "47cb14ca5b1b"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "deploying"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "ways"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "ways"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker psThis will list your currently running Docker images."}, "title": "currently"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "libraries"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "various"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You won't get any further in following along on your laptop if you do not."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In the Online DevOps course setup, we are running just two containers: one to run the MySQL database, and the other to run our Django web server."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "wo"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "naughty_beaver"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Infrastructure as code (IaC) as the idea that, rather than manually provisioning servers, or setting up hardware through a point-and-click GUI, the \"server room\" should itself be managed by code."}, "title": "point-and-click"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "configuration"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "come"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Some Docker commandsNow let's look at what some Docker commands are available, and what they do."}, "title": "commands"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "downloaded"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "similar"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "load"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "load"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "load"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "reasons"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "4a6bc8cf7ab0"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So we need to know how to create the right container for each project."}, "title": "create"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "locally"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "three"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "much"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The FROM python:3.6.0 command says what base image to build our image from."}, "title": "python:3.6.0"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "moment"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "If it did, let's explore the shells you are in a little to try to understand better what a container is."}, "title": "understand"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "external"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "worked"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "case"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(This is a fantastic 3 minute explanation of the value of Infrastructure as Code.)"}, "title": "value"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "A script can be debugged once, and then will run reliably again and again."}, "title": "reliably"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "error"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "guide"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "ip"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "A script can be debugged once, and then will run reliably again and again."}, "title": "ip"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "ip"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "ip"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After we leave the container, we can get rid of it using docker rm algo_website."}, "title": "rid"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "media"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "hostname"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "//localhost:8080"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "authentication"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "html"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "html"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "flake8"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "sys"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "sys"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container, we are in a chroot file system."}, "title": "sys"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "sys"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "sys"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "//0.0.0.0:8080"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "This is infrastructure as code, since the infrastructure for the project is built from these files of code."}, "title": "built"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "webserver"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "3ad630752ebf"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "inter-process"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "savings"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "7af5f14f88d9"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "composed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "You won't get any further in following along on your laptop if you do not."}, "title": "laptop"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(This is a fantastic 3 minute explanation of the value of Infrastructure as Code.)"}, "title": "fantastic"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "quotes"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "In one of the two shells, in your OnlineDevops directory, please run: ./container.sh That should put you inside the OnlineDevops container: if that command worked, you should see your prompt change."}, "title": "./container.sh"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "showing"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "So we need to know how to create the right container for each project."}, "title": "know"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "deployment"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "e82e4fb65823"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our Docker ImplementationWe use Docker in our projects for two main reasons, with a third to come:To set up a local version of a web server that will be configured \"just like\" our production server."}, "title": "projects"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "vigilant_curie"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The code also serves as necessarily up-to-date documentation of what the infrastructure is."}, "title": "serves"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(\"Just like\" is in quotes because that is always the ideal, but it may not be fully achieved.)"}, "title": "fully"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "setups"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Lower error rates: It is error-prone, because it is boring, too configure systems \"by hand.\""}, "title": "error-prone"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "everything"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "behave"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "provides"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "I am going to proceed by showing you the results of running the same command inside and outside the container on my machine: your results will be different, but similar, to mine."}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "What about our view of what processes are running?"}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Inside the container we see: ps -ef     root@a5dd222a9812:/home/DevOps# ps -ef    UID        PID  PPID  C STIME TTY          TIME CMD    root         1     0  0 Oct25 pts/0    00:00:00 bash    root       192     1  0 21:18 pts/0    00:00:00 ps -ef                    From inside the container, there are two processes running!"}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The container has process isolation from the host."}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "proc"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "freed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "c560c3729d7e"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "1ba39e023554"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "127.0.0.1:8080:80"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "To provide our full suite of development tools, such as the correct Python version, make, flake8, various Python libraries, etc., in one simple to build package, so all developer's have a consistent environment."}, "title": "package"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "srv"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The advantages of IaC can be divided into three main categories:Cost savings: By automating hardware provisioning, the time of the people who would have been doing that by hand is freed up for other tasks."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Outside the container we see: ps -ef | wc -l      Macintosh:OnlineDevops gcallah$ ps -ef | wc -l     667                    From outside the container, the OS lists 667 processes as running on my Mac."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The container has process isolation from the host."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "It has its own process namespace separate from its host's namespace and from the namespace of any other containers running on that host."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "When Prof. Callahan runs it while preparing this lecture, he sees:     Macintosh:OnlineDevops gcallah$ docker ps    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES    429ff1a37d21        devops              \"bash\"              11 seconds ago    Up 6 seconds        0.0.0.0:32768->8000/tcp   stupefied_swanson                    (The 0.0.0.0 is the IP address to use for the container, and 32768 is the port it is using.)"}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Download website codeOk now that you have download the nginx image, let's download the static website that you are going to host inside the docker container."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Please remember the location where you have cloned the repository."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Let's make a containerOk, so we have downloaded the nginx image and the code of the website which we want to host All we need to do is just make a container out of the image."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "We will put the code of website inside the container so that the webserver which is nginx in our case can read the html files and host it in local server."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker run --name algo_website -p 127.0.0.1:8080:80 -v /Users/prashant/school/algos/:/usr/share/nginx/html -d nginxPlease don't forget to change the location of algorithms directory in above command."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "After you run the command open the browser and type http://localhost:8080 and you should be able to see the webpage."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Windows user should use the address http://0.0.0.0:8080 instead of localhost."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Docker Compose use a YAML file to specify the configuration of a multi-container Docker app."}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "os"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "specifies"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The separate namespace also provides the container with its own hostname, its own user IDs, and its own inter-process communication names."}, "title": "communication"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "But other Docker Compose setups might include a web server, a load balancer, a database, an authentication server, and more!"}, "title": "balancer"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line ENV user_type TERMINAL sets an environment variable (user_type) that will be available inside the container."}, "title": "variable"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "beings"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Secondly: Please clone (if you have not already) our online DevOps repo: git clone https://github.com/gcallah/OnlineDevops.gitOnce you have cloned that repo, please open two shells: in one, we will look at your local environment, and in the other we will explore the container."}, "title": "git"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "log"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "support"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "(Source: Wikipedia on Infrastructure as Code )A DevOps principle: Asking people to behave like automatons bores and dehumanizes them."}, "title": "bores"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "ngnix"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "f418f33054e8"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "automated"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "deployed"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker ps -a This will list all images that have been run on the system, not just those that are active:     Macintosh:OnlineDevops gcallah$ docker ps -a    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                           PORTS                    NAMES    c560c3729d7e        devops              \"bash\"              18 minutes ago    Up 18 minutes                    0.0.0.0:8000->8000/tcp   brave_kirch    429ff1a37d21        devops              \"bash\"              About an hour ago   Exited (130) 44 minutes ago                               stupefied_swanson    32b272487675        devops              \"bash\"              5 days ago          Created                                                   wonderful_heyrovsky    a5dd222a9812        devops              \"bash\"              10 days ago         Exited (130) About an hour ago                            naughty_beaver    e82e4fb65823        devops              \"bash\"              11 days ago         Exited (130) 11 days ago                                  youthful_noyce    0433f774c394        devops              \"bash\"              11 days ago         Created                                                   stupefied_hawking    1ba39e023554        devops              \"bash\"              11 days ago         Created                                                   practical_ptolemy    4a6bc8cf7ab0        devops              \"bash\"              11 days ago         Created                                                   vigilant_curie    47cb14ca5b1b        devops              \"bash\"              2 weeks ago    Exited (255) 11 days ago         0.0.0.0:8000->8000/tcp   determined_goldwasser    7af5f14f88d9        f418f33054e8        \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  modest_hypatia    e3292cdc1449        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  competent_hugle    3ad630752ebf        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks ago                                  amazing_meitner    fe439d8e15c2        indra               \"bash\"              2 weeks ago         Exited (130) 2 weeks a                        docker imagesThis command should give you the list of images that are available on the system."}, "title": "stupefied_hawking"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Unfortunately, at the moment, the places we are hosting do not support that."}, "title": "hosting"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "define"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "uid"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Other ReadingsContainers are eating the worldInfrastructure automationA Behavior Driven Developer's guide to Infrastructure as Code"}, "title": "uid"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Asking them to devise clever ways to automate things interests them, and treats them as the rational beings that they are!"}, "title": "devise"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "The line RUN pip install -r requirements.txt installs everything from the requirements file in the container."}, "title": "pip"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "boot"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Our More Advanced Docker UsageIn the Online DevOps course project, we use a more advanced Docker setup: we employ Docker Compose to define and run an application composed of more than one Docker container."}, "title": "application"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Here is the YAML file that specifies our two-container application."}, "title": "application"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "That code can then be put under version control, tested, deployed with automated build tools, and so on."}, "title": "test"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "For example in Prashant's system it looks something like this:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    In the above listing, the nginx image is not installed."}, "title": "test"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "test"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Ultimately, we should be deploying the container where we locally test our web servers right into production, guaranteeing that development and production are identical environments."}, "title": "test"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "docker pull nginxNow that you have installed the nginx image, just run the docker images command again, in the list you should see ngnix image as below:     ENG-EJC369-02:$ docker images    REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE    nginx                 latest              71c43202b8ac        7 hours ago         109MB    gcallah/jenkins_py3   latest              21130e104ca1        4 weeks ago         742MB    jenkins               latest              cd14cecfdb3a        6 weeks ago         696MB    gcallah/indra         v7                  ad9670e8b27f        2 months ago        946MB    python                latest              efb6baa1169f        5 months ago        691MB    ubuntu                latest              f975c5035748        5 months ago        112MB    gcallah/emu86         v4                  f6833ae8bf9e        6 months ago        776MB    gcallah/django        latest              432de70e222d        6 months ago        769MB    bash                  latest              59507b30b48a        6 months ago        12.2MB    alpine                latest              3fd9065eaf02        7 months ago        4.15MB                    (You can put an image into DockerHub using docker push.)"}, "title": "push"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Why is it important?"}, "title": "important"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "included"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Speed of deployment: It is much faster to configure infrastructure by running a script than by manually setting a bunch of parameters in a GUI interface."}, "title": "faster"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Furthermore, as code, the infrastructure can be read and reasoned about."}, "title": "reasoned"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "Each project we work on should have a Dockerfile consisting of instructions on how to build the image for that project, a requirements.txt listing what external modules need to be included in the image, and a line in the project's makefile automating the build of the image."}, "title": "modules"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "First of all, let's look at the root file system, inside and outside the container:Outside the container: ls /     Macintosh:OnlineDevops gcallah$ ls /    Applications            bin                net    Library                cores                opt    Network                debug.txt            private    Shockwave Log            debug.txt.1            sbin    System                dev                tmp    User Guides And Information    etc                usr    User Information        home                var    Users                installer.failurerequests    Volumes                logFile.xsl                    Inside the container: ls /     root@a5dd222a9812:/home/DevOps# ls /    bin   dev  home  lib64    mnt  proc           root  sbin  sys    usr    boot  etc  lib     media    opt  requirements.txt  run   srv   tmp    var                    What's of note here: From outside and from inside the container, we see completely different file systems!"}, "title": "cores"}, {"info": {"url": "http://www.thedevopscourse.com/devops/infra", "page": "infrastructure as code", "sentence": "WORKDIR /home/IndrasNet/ sets the starting directory inside the container."}, "title": "starting"}]